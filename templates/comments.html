$def with(post_id)

<div id="comments" class="box">
	$ comment_num = model.get_comment_num(post_id)
	$if comment_num:
		<p>$comment_num response To blog title</p>
		<hr />
	$ comments = model.get_comments(post_id)
	$if comments:
		$for c in comments:
			<div class="comment">
				<img style="float:left;" height="50" width="70" src="http://www.gravatar.com/avatar/21db791962668224fa73539b47816c07?s=50&r=G&d=http%3A%2F%2Flocalhost%3A8080%2Fstatic%2Fimages%2Fhomsar.jpeg" alt="$c.author" ></img>
				<a href="#comment$c.id">$c.author</a> posted on  
				<span class="date">$datestr(c.posted_on)</span>
				<p>$c.content</p>

				<div class="clear"></div>
			</div>
		
	<!--TODO when cmt format invalid, keep data in form-->
	<div id="comment-input">
		<p>leave a reply</p>
		<hr />

		<form action="/post/$post_id" method="post">
			<p>
				<input type="text" name="author" id="author" value="" size="22" tabindex="1" />
				<label for="author">Name <span style="color:red">(*)</span></label>
			</p>

			<p>
				<input type="text" name="email" id="email" value="" size="22" tabindex="2" />
				<label for="email">Mail(will not be published) <span style="color:red">(*)</span></label>
			</p>

			<p>
				<input type="text" name="url" id="url" value="" size="22" tabindex="3" />
				<label for="url">Website</label>
			</p>

			<p>
				<input type="checkbox" name="reply_notify_mail" id="reply_notify_mail" checked="checked" size="45" tabindex="4" />
				<label for="reply_notify_mail">Send me reply notify mail</label>
			</p>
			<p>
				<textarea name="comment" id="comment" cols="70%" rows="10" tabindex="5"></textarea>
			</p>

			<p>
				<input name="submit" type="submit" id="submit" tabindex="6" value="Submit Comment" />
			</p>
		</form>
	</div>
</div>

